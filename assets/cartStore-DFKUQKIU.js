import{h as c}from"./index-W4-EvkAT.js";const d=[{id:1,title:"綠色馬卡龍",imageUrl:"https://images.unsplash.com/photo-1623066463831-3f7f6762734d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1135&q=80",price:120},{id:2,title:"多色餅乾",imageUrl:"https://images.unsplash.com/photo-1576717585968-8ea8166b89b8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",price:80},{id:3,title:"甜蜜左擁右抱",imageUrl:"https://images.unsplash.com/photo-1558312657-b2dead03d494?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",price:200},{id:4,title:"巧克力心連心",imageUrl:"https://images.unsplash.com/photo-1606913084603-3e7702b01627?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",price:160},{id:5,title:"粉係馬卡龍",imageUrl:"https://images.unsplash.com/photo-1612201142855-7873bc1661b4?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",price:120},{id:6,title:"爽快快的巧克力脆餅",imageUrl:"https://images.unsplash.com/photo-1597733153203-a54d0fbc47de?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1090&q=80",price:150}],n=c("productStore",{state:()=>({products:d}),getters:{sortedProducts:({products:i})=>i.sort((t,r)=>t.price-r.price)}}),l=c("cartStore",{state:()=>({cart:[]}),actions:{findCart(i){return this.cart.find(t=>t.id===i)},add(i,t=1){const r=this.cart.find(o=>o.productId===i);r?r.qty+=t:this.cart.push({id:new Date().getTime(),productId:i,qty:t}),console.log("cart ==>",this.cart)},remove(i){const t=this.cart.findIndex(r=>r.id===i);console.log(`index = ${t}`),this.cart.splice(t,1)},setQuantity(i,t){const r=this.findCart(t);r&&(r.qty=Number(i.target.value))}},getters:{cartInfo:({cart:i})=>{const{products:t}=n();let r=0;const o=i.map(a=>{const e=t.find(f=>a.productId===f.id),s=e.price*a.qty;return r+=s,{...a,product:{...e},subtotal:s}});return console.log("cartInfo ==>",o),{cartDetail:o,total:r}}}});export{n as a,l as u};
